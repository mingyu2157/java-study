# Chapter06 객체지향 프로그래밍1(~변수와 메서드)

## 객체지향언어

주요특징

1. 코드의 재사용성이 높다.
2. 코드의 관리가 용이하다.
3. 신뢰성이 높은 프로그래밍을 가능하게 한다.

## 클래스와 객체

### 클래스

- 정의 : 클래스란 객체를 정의해 놓은 것이다.

- 용도 : 클래스는 객체를 생성하는데 사용된다.

### 객체

- 정의 : 실제로 존재하는 것. 사물 또는 개념
- 용도 : 객체가 가지고 있는 기능과 속성에 따라 다름
- 유형의 객체 : 책상, 의자, 자동차와 같은 사물
- 무형의 객체 : 수학공식, 프로그램 에러와 같은 논리나 개념

### 인스턴스

- 인스턴스화(instantiate) : 클래스로부터 객체를 만드는 과정
- 인스턴스(instance) : 어떤 클래스로부터 만들어진 객체

### 객체의 구성요소 - 속성과 기능

- 속성(property) : **멤버변수(member variable)**, 특성(attribute), 필드(field), 상태(state)
- 기능(function) : **메서드(method)**, 함수(function), 행위(behavior)

### 인스턴스의 생성과 사용

- 인스턴스를 생성하는 방법

  ```java
  클래스명 변수명; //클래스의 객체를 참조하기 위한 참조변수를 선언
  변수명 = new 클래스명(); //클래스의 객체를 생성 후, 객체의 주소를 참조변수에 저장
  
  Tv t; //Tv클래스 타입의 참조변수 t를 선언
  t = new Tv(); //Tv인스턴스를 생성한 후, 생성된 Tv인스턴스의 주소를 t에 저장
  
  //-----------------------------------------------------------------------구분선
  Tv t = new Tv(); 
  ```

- **인스턴스는 참조변수를 통해서만 다룰 수 있으며, 참조변수의 타입은 인스턴스의 타입과 일치해야 한다.**

### 객체 배열

객체를 배열로 다루는 것 (객체 배열 == 참조변수 배열)

```java
Tv[] tvArr = new Tv[3]; // == Tv tv1, tv2, tv3 = new Tv(); 참조변수 배열 (객체 배열)을 생성
tvArr[0] = new Tv(); // 객체를 생성해서 배열의 각 요소에 저장
tvArr[1] = new Tv();
tvArr[2] = new Tv(); 
//----------------------------------------------------------------------------구분선
Tv[] tvArr = {new Tv(), new Tv(), new Tv()};
```

### 클래스의 또 다른 정의 (프로그래밍적인 관점)

**1. 클래스 - 데이터와 함수의 결합**

- 변수 : 하나의 데이터를 저장할 수 있는 공간
- 배열 : 같은 종류의 여러 데이터를 하나의 집합으로 저장할 수 있는 공간
- 구조체 : 서로 관련된 여러 데이터를 종류에 관계없이 하나의 집합으로 저장할 수 있는 공간
- 클래스 : 데이터와 함수의 결합(구조체 + 함수)

**2. 사용자정의 타입(user - defined type)**

- 프로그래밍 언어에서 제공하는 자료형 외에 프로그래머가 서로 관련된 변수들을 묶어서 하나의 타입으로 새로 추가하는 것

## 변수와 메서드

### 선언위치에 따른 변수의 종류

변수의 종류

1. 클래스 변수 - 멤버 변수 중 static이 붙음
2. 인스턴스 변수 - 멤버 변수 중 static이 붙지 않음
3. 지역 변수 - 멤버 변수를 제외한 나머지 변수

```java
class Variables {
    int iv; // 멤버 변수(인스턴스 변수) - 클래스 영역
    static int cv; //멤버 변수(클래스 변수) - 클래스 영역
    
    void method() {
        int lv = 0; //지역 변수 - 메서드 영역
    }
}
```

**인스턴스 변수** : 클래스 영역에 선언되며, 클래스의 인스턴스를 생성할 때 만들어짐 - 독립적인 저장 공간을 가지므로 서로 다른 값을 가짐

**클래스 변수** : 인스턴스 변수 앞에 static을 붙임 - 모든 인스턴스가 공통된 저장 공간(변수)을 공유 

**지역 변수** : 메서드 내에 선언되어 메서드 내에서만 사용 가능 --> 메서드가 종료되면 소멸

### 메서드

- 특정 작업을 수행하는 일련의 문장들을 하나로 묶은 것

**메서드를 사용하는 이유**

1. 높은 재사용성(reusability)

   한번 만들어 놓은 메서드는 몇번이고 호출할 수 있으며, 다른 프로그램에서도 사용이 가능

2. 중복된 코드의 제거

   반복되는 문장들을 묶어서 하나의 메서드로 작성해 놓으면 반복되는 문장들 대신 매서드를 호출하는 한 문장으로 대체할 수 있음

3. 프로그램의 구조화

   큰 규모의 프로그램에서는 문장들을 작업단위로 나눠서 여러 개의 메서드에 담아 프로그램의 구조를  단순화시키는 것이 필수



**메서드의 선언과 구현**

메서드는 선언부와 구현부로 이루어져 있음

1. 메서드 선언부(nethod declaration, method header)

   선언부는 '메서드의 이름' , '매개변수 선언', '반환타입' 으로 구성

   ```java
   int add (int x, int y) { //int - 반환타입(출력) / add - 메서드 이름 / int x, int y - 매개변수 선언(입력)
       int result = x + y;
       
       return result; //결과를 반환
   }
   ```

   매개변수 선언 : 매서드가 작업을 수행하는데 필요한 값들(입력)을 제공받기 위한 것

   매서드의 이름 : 변수의 명명규칙대로 작성

   반환타입(retutn type) : 메서드의 작업수행 결과(출력)인 반환값의 타입을 적음

2. 메서드 구현부

   return 문 : 메서드의 반환타입이 'void'가 아닌 경우 'return 반환값;'이 반환타입과 일치하거나 자동 형변환이 가능해야 함

   지역변수 : 서로 다른 메서드라면 같은 이름의 변수를 선언해도 됨



**메서드의 호출**

메서드를 호출하는 방법

```java
methodName(data1, data2); 
```

인자(argument)와 매개변수(parameter)

- 인자 : 메서드를 호출할 때 괄호()안에 지정해준 값 

  --> 인자의 개수, 순서, 타입은 호출된 메서드에 선언된 매개변수와 일치 혹은 자동형변환이 가능해야 함



**매개변수의 유효성 검사**

메서드의 구현부{}를 작성할 때 매개변수의 값이 적절한 것인지 확인하는 것

비정상적인 값 --> 프로그램이 비정상적으로 종료됨



**JVM의 메모리 구조**

3가지 주요 영역

1. 메서드 영역(method area)

   프로그램 실행 중 어떤 클래스가 사용 -> JVM은 해당 클래스의 클래스파일(*.class)을 읽고 분석하여 클래스데이터(+변수)를 저장

2. 힙(heap)

   인스턴스가 생성되는 공간 --> 인스턴스 변수가 생성되는 공간

3. 호출스택(call stack 또는 execution stack)

   메서드의 작업에 필요한 메모리 공간을 제공 -> 지역변수(매개변수 포함)들과 연산의 중간결과등을 저장하는데 사용

   - 메서드가 호출되면 수행에 필요한 만큼의 메모리를 스택에 할당받음
   - 메서드가 수행을 마치면 사용했던 메모리를 반환하고 스택에서 제거됨
   - 호출스택의 제일 위에 있는 메서드가 현재 실행 중인 메서드임
   - 아래에 있는 메서드가 바로 위의 메서드를 호출한 메서드임



**기본형 매개변수와 참조형 매개변수**

- 기본형 매개변수 : 변수의 값을 읽기만 할 수 있다.(read only)
- 참조형 매개변수 : 변수의 값을 읽고 변경할 수 있다.(read & write)

참조형 반환타입 p.268

반환타입이 '참조형'이라는 것은 메서드가 '객체의 주소'를 반환한다는 것을 의미한다.



**재귀호출(recursive call)**

- 재귀호출 : 메서드의 내부에서 메서드 자신을 다시 호출하는 것 -> 재귀호출을 하는 메서드 == 재귀 메서드
- 조건문이 필수 + 매개변수의 유효성 검사



**클래스 메서드(static 메서드)와 인스턴스 메서드**

- 인스턴스 메서드 : 메서드의 작업을 수행하는데 인스턴스 변수를 필요로 하는 메서드

- 클래스 메서드 : 인스턴스 변수나 인스턴스 메서드를 사용하지 않는 메서드

  1. 클래스를 설계할 때, 멤버변수 중 모든 인스턴스에 공통으로 사용하는 것에 static을 붙인다.
  2. 클래스 변수(static 변수)는 인스턴스를 생성하지 않아도 사용할 수 있다.
  3. 클래스 메서드(static 메서드)는 인스턴스 변수를 사용할 수 없다.
  4. 메서드 내에서 인스턴스 변수를 사용하지 않는다면, static을 붙이는 것을 고려한다. --> 성능 향상

  --> 클래스의 멤버변수 중 모든 인스턴스에 공통된 값을 유지해야 하는 것이 있는지 살피고 있으면 static을 붙임

  --> 작성한 메서드 중에서 인스턴스 변수나 인스턴스 메서드를 사용하지 않는 메서드에 static을 붙일것을 고려



**클래스 멤버와 인스턴스 멤버간의 참조와 호출**

인스턴스멤버가 존재하는 시점에 클래스 멤버는 항상 존재하지만, 클래스멤버가 존재하는 시점에 인스턴스 멤버가 존재하지 않을수 있음

인스턴스멤버간의 호출에는 문제x, 